<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hatena Blog Amazon Rakuten Icon</title>
    <link rel="stylesheet" href="https://cdn.blog.st-hatena.com/css/blog.css">
    <style>

*, ::before, ::after { box-sizing: border-box; }
html { font-family: sans-serif; }


/* ==============================
 * Amazon・楽天 共通
 * ============================== */

/* 基準設定 */
.hatena-asin-detail {
  position: relative;
  border-radius: 4px;
}

/* 右下に余白を開けコンテンツを配置する準備をしておく */
.hatena-asin-detail::before {
  position: absolute;
  right: .6rem;
  bottom: .6rem;
  font-size: 55px;
  font-family: blogicon;
  line-height: 1;
}


/* ==============================
 * Amazon
 * ============================== */

/* 円形グラデーションで色を分けマスクすることで「a」部分を黒色・矢印を黄色にする */
.hatena-asin-detail:not(.hatena-rakuten-detail)::before {
  content: "\f034";
  color: transparent;
  background: radial-gradient(ellipse farthest-corner at 50% 20px, rgba(0, 0, 0, .5) 50%, rgba(255, 153, 0, .5) 50%) 50% 50% / 60px 50px no-repeat;
          background-clip: text;
  -webkit-background-clip: text;
}

/* IE11 : background-clip が効かないため、黄色ベースでアイコンを置き、黒色の「a」部分だけさらに半透明で重ねる */
_:-ms-lang(x)::-ms-backdrop, .hatena-asin-detail:not(.hatena-rakuten-detail)::before {
  color: rgba(255, 153, 0, .5);
  background: none;
}

/* IE11 : .hatena-asin-detail-foot は空の要素・黒色の「a」部分をクロップするため幅・高さを指定して配置する */
_:-ms-lang(x)::-ms-backdrop, .hatena-asin-detail:not(.hatena-rakuten-detail) .hatena-asin-detail-foot {
  position: absolute;
  right: calc(9px + .6rem);
  bottom: calc(15px + .6rem);
  width: 32px;
  height: 40px;
  line-height: 1;
  overflow: hidden;
}

/* IE11 : .hatena-asin-detail-foot の擬似要素でアイコンを配置し、「a」部分の左側の余白を削る */
_:-ms-lang(x)::-ms-backdrop, .hatena-asin-detail:not(.hatena-rakuten-detail) .hatena-asin-detail-foot::before {
  content: "\f034";
  position: absolute;
  left: -5px;
  color: rgba(0, 0, 0, .6);
  font-size: 55px;
  font-family: blogicon;
}


/* ==============================
 * 楽天
 * ============================== */

/* アイコンに合わせて白い円を作り、透過されている「R」字部分を白色にする */
.hatena-asin-detail.hatena-rakuten-detail::before {
  content: "\f722";
  border-radius: 50%;
  width: 48px;
  height: 47px;
  line-height: 42px;
  color: rgba(200, 0, 0, .5);
  background: rgba(255, 255, 255, .5);
}


/* ==============================
 * その他・Data URL で画像を埋め込んでいた古いサンプル
 * ============================== */

body { padding: .5rem 1rem; }
h1 { margin-top: 0; }

/* Amazon */
.old-example-amazon {
  background: linear-gradient(to right, rgba(255, 255, 255, .2), rgba(255, 255, 255, .2)), url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACkElEQVRoge2YybGjMBCGOwRCIARdbHHUxRYn6BAcgjMgBEJwCFRZfmdCIARCIISeg9ozeJEMBci8GrqqTyD4P/WiBWCzzTbb7G5CYbQ/ZoXU+UXqvJY6b6TOO6nzVuq8ss/wLBRG39b6YEmKSuqsZLE00KtVgEiN5xGin71LUlS/VXwfIv6t4u/efgEgb2YEoKBRsEXrFVTvDiiEwihJMR4Srf0xK4IBcJt0iMlKB/TpU1cKCdCOLUihMFpNHeyPiPLfYtWHufjGecBJ6rwLpf+tCYXRp4Vp1QBDbNUAdh+EyFuKmttsy971fF0AtjhH74PWAcD9farw7wDMvJUIC8Bt1DfzrdRZmaR42h1QJCnGA9aBcABcpC4htaudrgKAZ98lwntIWQUAd5y3IvZHRNe43QHFSgDyyiXCtyUeUvShANqxAFzAvrr5OAFzAjiFuPb0vrR7dDwHAPgkxl6bCIWRzfuh4m0dLB6FBRawlza8KMCAbjLZA0TBd6T0pwjf3Pne8R6KZjHuKs5u5BZv1wn3+Tgrg93WMcTQSNS7A4r+ePm4nnRBOtA7ezofs5i8kzpv9seseBbeNx7TJSmeAkpe1qiCiAwUZKAhAx0ZILpBSwaG3xuRgZpu8PZ+Z2mjG1zYS7pBSQaqO8TYD5U88CsgD1psNJrxA69wIgPEXpEB525zLiMDqpdCDQDA6BR6+OAPCP4Y/XUbHUUVTG55nPPYE33/T00/IPj/RD/gbAbDfnSFE88EPXnH0Sk4YorhYvaIKohZCPI7BRmoXybGetOPNBkoZk1jusLZATLVa7rC+TmqdIPLHJF+BbmHfRpMQwaKyekxGaaCmCNz4dSoe2Ade0MGKq4fXGRWN9vsP7Q/PeTs283e6DMAAAAASUVORK5CYII=") no-repeat right 10px bottom 10px / 48px 48px;
}

/* 楽天 */
.old-example-rakuten {
    background: linear-gradient(to right, rgba(255, 255, 255, .5), rgba(255, 255, 255, .5)), url("data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MC41OCA1MS4wNiI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiNiZjAwMDA7fS5jbHMtMntmaWxsOiNmZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT7jgqLjg7zjg4jjg5zjg7zjg4kgMTwvdGl0bGU+PHBhdGggY2xhc3M9ImNscy0xIiBkPSJNNTAuNTgsMjUuNzhBMjUuMjksMjUuMjksMCwxLDEsMjUuMjkuNDgsMjUuMjksMjUuMjksMCwwLDEsNTAuNTgsMjUuNzhaIi8+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMjEuOTQsMzkuMzZWMzAuOTNIMjUuNmw2LjMyLDguNDNoNi40N0wzMC43NSwyOS4xOWE5LjM3LDkuMzcsMCwwLDAtNS40My0xN0gxNi43OFYzOS4zNmg1LjE2Wm0wLTIyaDMuMzdhNC4yMSw0LjIxLDAsMSwxLDAsOC40M0gyMS45NFoiLz48L3N2Zz4=") no-repeat right 10px bottom 10px / 48px 48px;
  }

/* 古いサンプルに BlogIcon 版を重ねるかどうか */
.hidden-new::before,
.hidden-new .hatena-asin-detail-foot::before {
  display: none;
}

    </style>
    <script>

// サンプル比較用
function toggle() {
  document.querySelector('.old-example-amazon').classList.toggle('hidden-new');
  document.querySelector('.old-example-rakuten').classList.toggle('hidden-new');
}

    </script>
  </head>
  <body>

<h1>Hatena Blog Amazon Rakuten Icon</h1>
<p>はてなブログの <code>blog.css</code> に付属の「BlogIcon」を使用。</p>

<div class="hatena-asin-detail">
  <a href="#"><img src="#" class="hatena-asin-detail-image" alt="Amazon 商品" title="Amazon 商品" style="width: 160px; height: 125px; background: #ccc;"></a>
  <div class="hatena-asin-detail-info">
    <p class="hatena-asin-detail-title"><a href="#">Amazon 商品</a></p>
    <ul>
      <li><span class="hatena-asin-detail-label">作者:</span> 作者名</li>
      <li><span class="hatena-asin-detail-label">出版社/メーカー:</span> メーカー名</li>
      <li><span class="hatena-asin-detail-label">発売日:</span> 2018/03</li>
      <li><span class="hatena-asin-detail-label">メディア:</span> 単行本</li>
      <li><span class="hatena-asin-detail-label">購入</span>: 18人 <span class="hatena-asin-detail-label">クリック</span>: 331回</li>
      <li><a href="#" target="_blank" style="display: none;">この商品を含むブログ (64件) を見る</a></li>
    </ul>
  </div>
  <div class="hatena-asin-detail-foot"></div>
</div>

<div class="hatena-asin-detail hatena-rakuten-detail">
  <a href="#"><img alt="楽天商品" class="hatena-asin-detail-image" src="#" title="楽天商品" style="width: 160px; height: 125px; background: #ccc;"></a>
  <div class="hatena-asin-detail-info">
    <p class="hatena-asin-detail-title"><a href="#">楽天商品</a></p>
    <ul>
      <li>
        <span class="hatena-asin-detail-label">ジャンル:</span>
        <a href="#" target="_blank">本・雑誌・コミック</a>
        &gt; <a href="#" target="_blank">PC・システム開発</a>
        &gt; <a href="#" target="_blank">その他</a>
      </li>
      <li><span class="hatena-asin-detail-label">ショップ:</span> <a href="#" target="_blank">楽天ブックス</a></li>
      <li><span class="hatena-asin-detail-label">価格:</span> 3,456円</li>
      <li></li>
    </ul>
  </div>
  <div class="hatena-asin-detail-foot"></div>
</div>

<h2>Old Example</h2>
<p>「BlogIcon」を使わず、PNG や SVG を Data URL で読み込んで作った旧サンプル。「BlogIcon」版を重ねて比較するにはコチラ → <button type="button" onclick="toggle()">Toggle</button></p>

<div class="hatena-asin-detail old-example-amazon hidden-new">
  <a href="#"><img src="#" class="hatena-asin-detail-image" alt="Amazon 商品" title="Amazon 商品" style="width: 160px; height: 125px; background: #ccc;"></a>
  <div class="hatena-asin-detail-info">
    <p class="hatena-asin-detail-title"><a href="#">Amazon 商品</a></p>
    <ul>
      <li><span class="hatena-asin-detail-label">作者:</span> 作者名</li>
      <li><span class="hatena-asin-detail-label">出版社/メーカー:</span> メーカー名</li>
      <li><span class="hatena-asin-detail-label">発売日:</span> 2018/03</li>
      <li><span class="hatena-asin-detail-label">メディア:</span> 単行本</li>
      <li><span class="hatena-asin-detail-label">購入</span>: 18人 <span class="hatena-asin-detail-label">クリック</span>: 331回</li>
      <li><a href="#" target="_blank" style="display: none;">この商品を含むブログ (64件) を見る</a></li>
    </ul>
  </div>
  <div class="hatena-asin-detail-foot"></div>
</div>

<div class="hatena-asin-detail hatena-rakuten-detail old-example-rakuten hidden-new">
  <a href="#"><img alt="楽天商品" class="hatena-asin-detail-image" src="#" title="楽天商品" style="width: 160px; height: 125px; background: #ccc;"></a>
  <div class="hatena-asin-detail-info">
    <p class="hatena-asin-detail-title"><a href="#">楽天商品</a></p>
    <ul>
      <li>
        <span class="hatena-asin-detail-label">ジャンル:</span>
        <a href="#" target="_blank">本・雑誌・コミック</a>
        &gt; <a href="#" target="_blank">PC・システム開発</a>
        &gt; <a href="#" target="_blank">その他</a>
      </li>
      <li><span class="hatena-asin-detail-label">ショップ:</span> <a href="#" target="_blank">楽天ブックス</a></li>
      <li><span class="hatena-asin-detail-label">価格:</span> 3,456円</li>
      <li></li>
    </ul>
  </div>
  <div class="hatena-asin-detail-foot"></div>
</div>

  </body>
</html>
